package test


import org.scalatest._
import parsers._
import models._
import scala.concurrent._
import reactivemongo.api._
import reactivemongo.bson._
import play.api.libs.json._
import play.api.libs.json.Json
import play.api.data._
import play.modules.reactivemongo.json.BSONFormats._
import play.modules.reactivemongo.json.collection._
import org.json4s._
import org.json4s.native.JsonMethods._
import models.JsonFormats._
import scala.concurrent.duration._
import scala.math.BigDecimal.int2bigDecimal
import scala.concurrent.ExecutionContext.Implicits.global
import scala.xml._
/**
 * @author rubcuevas
 */
class GIFTTest extends FlatSpec with Matchers{
  
  
  val parser = new GIFTParser()
  
  "The parser" should "correctly read this file" in {
     val questions = parser.execute("src/test/scala/questions.gift")
     
   
     
    
  }
    "The parser" should "be able to read a SingleChoiceQuestion" in {
         val shouldBe = SingleChoiceQuestion("category", "title", "wording", Seq(
             CorrectAnswer("Grant", "Yesss"), IncorrectAnswer("Ruben", "Noooooo")))
         assert(shouldBe === questions.get(0))
        
     }
  
  "The parser" should "not be able to read a file that does not exist" in {
     val questions = parser.execute("this/path/does/not/exist.gift")
     assert(questions === None)
  }
}